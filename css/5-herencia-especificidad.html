<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>5. Herencia y Especificidad | Documentación de HTML, CSS y JS</title>
    <link
      rel="icon"
      type="image/x-icon"
      href="/imagenes/MielmaDev-img/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Metal+Mania&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto+Flex:wdth,wght@25..151,400&display=swap"
      rel="stylesheet" />
    <link rel="stylesheet" href="/estilos/norm-reset.css" />
    <link rel="stylesheet" href="/estilos/root.css" />
    <link rel="stylesheet" href="/estilos/estilos.css" />
  </head>

  <body>
    <main>
      <header>
        <h1>5. Herencia y Especificidad</h1>
      </header>
      <section>
        <p>
          Cuando estamos trabajando con CSS, por la propia naturaleza de la
          misma, que nos permite heredar estilos entre elementos y jerarquía,
          podemos encontrarnos con conflictos entre los estilos por este mismo
          motivo.
        </p>
        <p>Si tenemos, por ejemplo, el siguiente código:</p>
        <figure>
          <figcaption>HTML</figcaption>
          <pre><code>&lt;ul&gt;
  &lt;li&gt;
    &lt;a href="" class="enlace"&gt;esto es un enlace&lt;/a&gt;
  &lt;/li&gt;
&lt;/ul&gt;</code></pre>
        </figure>
        <figure>
          <figcaption>CSS</figcaption>
          <pre><code>.enlace{color: red;}
ul li a{color: blue;}</code></pre>
        </figure>
        <p>
          El navegador tiene que aplicar los dos estilos al enlace. Pero en una
          regla ponemos el color rojo y en la otra, el azul. El navegador pondrá
          uno de los dos colores, y su decisión no será aleatoria, sino que
          seguirá las normas CSS que existen en caso de conflicto, según la
          especificidad, que es la manera mediante la cual el navegador
          determina qué valores de una propiedad CSS son los que tiene que
          aplicar.
        </p>
        <p>
          Para ello, cada tipo de selector recibe puntos que indican su
          especificidad, y se suman los puntos de todos los selectores que se
          estén utilizando para calcular la especificidad total del selector. La
          regla que tenga mayor puntuación será la que se aplique.
        </p>
        <p>
          Cada selector tiene su rango en la jerarquía de especificidad. Hay
          cuatro categorías que definen el nivel de especificidad de un
          selector:
        </p>
        <figure>
          <img
            src="https://www.antxoa-dev.com/curso/mod-css/img/especificidad1.jpg"
            alt="Gráfico Especificidad 1" />
        </figure>
        <p>
          La puntuación de especificidad de un selector se calcula usando cuatro
          valores diferentes separados por coma que tienen diferente peso y
          podemos describirlos como millares, centenas, decenas y unidades
          (cuatro dígitos individuales visualizados en cuatro columnas):
        </p>
        <figure>
          <img
            src="https://www.antxoa-dev.com/curso/mod-css/img/especificidad2.jpg"
            alt="Gráfico Especificidad 2" />
        </figure>
        <p>
          Vamos a calcular la especificidad de las reglas de nuestro ejemplo.:
        </p>
        <p>Tenemos un selector de clase, por lo tanto la especificidad será:</p>
        <pre><code>0, 0, 1, 0 			10 puntos
.enlace{color: red;}</code></pre>
        <p>
          Tenemos tres selectores de elementos, por lo tanto la especificidad
          será:
        </p>
        <pre><code>0, 0, 0, 3 			3 puntos
ul li a{color: blue;}</code></pre>
        <p>
          Si dos reglas tienen la misma puntuación de especificidad, el
          navegador aplicará la última que se encuentre en la CSS, ya que va
          aplicando los estilos de manera secuencial. Podemos calcular la
          especificidad de una regla con una Calculadora y consultar diferentes
          artículos y gráficos que nos ayudan a entender mejor cómo funciona.
        </p>
        <p>
          Si utilizamos el editor de código Visual Studio, podemos comprobar la
          especificidad de un elemento automáticamente.
        </p>
      </section>
      <section>
        <h2>Regla !important</h2>
        <p>
          La palabra clave <strong>!important</strong> se puede utilizar para
          dar mayor prioridad a una declaración de propiedades, dejando sin
          efecto la especificidad que pueda tener dicha declaración.
        </p>
        <p>
          Si utilizamos el ejemplo anterior, añadiendo !important a la
          declaración del color azul:
        </p>
        <figure>
          <figcaption>HTML</figcaption>
          <pre><code>&lt;ul&gt;
&lt;li&gt;
&lt;a href="" class="enlace"&gt;esto es un enlace&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;</code></pre>
        </figure>
        <figure>
          <figcaption>CSS</figcaption>
          <pre><code>.enlace{color: red;}
ul li a{color: blue !important;}</code></pre>
        </figure>
        <p>
          Siguiendo las normas de especificidad, el navegador debería de poner
          el enlace de color rojo. Sin embargo, como la declaración de color
          azul lleva !important el navegador aplicará este color azul, dejando
          sin efecto la especificidad.
        </p>
        <p>
          La recomendación general es NO utilizar !important. Nuestro código CSS
          debería tener una especificidad correcta siempre.
        </p>
        <p>
          Si tenemos que realizar modificaciones de código, no se puede editar
          el código ya pre-existente y solo podemos añadir nuestras líneas de
          código, en ese caso concreto la única opción posible para corregir o
          modificar estilos sí que va a ser el uso de!important.
        </p>
        <p>
          En algunos frameworks (p.e. Bootstrap) y librerías, es posible que
          haya código CSS implementado con !important, por lo tanto esos estilos
          nativos no los podremos modificar y no está bien por su parte que lo
          hayan implementado así.
        </p>
      </section>
      <aside>
        <h2>Referencias</h2>
        <nav>
          <ul>
            <li>
              <a
                href="https://css-tricks.com/specifics-on-css-specificity/"
                target="_blank"
                rel="noopener"
                >Especificidad al detalle</a
              >
            </li>
          </ul>
        </nav>
        <h2>Recursos</h2>
        <nav>
          <ul>
            <li>
              <a
                href="https://specificity.keegan.st/"
                target="_blank"
                rel="noopener"
                >Calculadora Especificidad 1</a
              >
            </li>
            <li>
              <a
                href="https://polypane.app/css-specificity-calculator/"
                target="_blank"
                rel="noopener"
                >Calculadora Especificidad 2</a
              >
            </li>
            <li>
              <a
                href="https://stuffandnonsense.co.uk/archives/css_specificity_wars.html"
                target="_blank"
                rel="noopener"
                >Gráfico Especificidad</a
              >
            </li>
            <li>
              <a
                href="https://umaar.com/dev-tips/226-vs-code-selector-specificity/"
                target="_blank"
                rel="noopener"
                >Cálculo en Visual Studio Code</a
              >
            </li>
          </ul>
        </nav>
      </aside>
    </main>
  </body>
</html>
